"use strict";function routing(a,b){b.otherwise("/home"),a.state("home",{url:"/home",templateUrl:"views/main.html"}).state("home.char",{url:"",templateUrl:"views/character.html",controller:"CharacterController",controllerAs:"vm"}).state("home.pets",{url:"",templateUrl:"views/pets.html",controller:"PetsController",controllerAs:"vm"}).state("home.mounts",{url:"",templateUrl:"views/mounts.html",controller:"MountsController",controllerAs:"vm"}).state("home.toys",{url:"",templateUrl:"views/toys.html",controller:"ToysController",controllerAs:"vm"})}angular.module("wowCollectionsUi",["ngAnimate","ngCookies","ngMaterial","ngResource","ngRoute","ngSanitize","ngTouch","ui.router"]).config(routing),routing.$inject=["$stateProvider","$urlRouterProvider"],function(){function a(a){var b=this;b.current=a.current}angular.module("wowCollectionsUi").controller("CharacterController",a),a.$inject=["dataFactory"]}(),function(){function a(a,b,c){function d(){b.getCharacter(e.realm,e.character).then(function(a){c.current.character=a.data})}var e=this;e.realm={},e.character="",e.current=c.current,e.getCharacter=d,function(){b.getRealms().then(function(a){e.realms=a.data.realms})}()}angular.module("wowCollectionsUi").controller("HeaderController",a),a.$inject=["$q","bnetFactory","dataFactory"]}(),function(){function a(){}angular.module("wowCollectionsUi").controller("MainController",a)}(),function(){function a(){}angular.module("wowCollectionsUi").controller("MountsController",a)}(),function(){function a(){function a(){return bnetFactory.getPets().then(function(a){d.pets=a.data.pets})}function b(){return bnetFactory.getPlayerPets("Dalaran","Thulse").then(function(a){d.playerPets=a.data.pets.collected})}function c(){d.missingPets=_.differenceBy(d.pets,d.playerPets,"creatureId")}var d=this;!function(){$q.all([a(),b()]).then(c)}()}angular.module("wowCollectionsUi").controller("PetsController",a)}(),function(){function a(){}angular.module("wowCollectionsUi").controller("ToysController",a)}(),function(){var a={bnetKey:"eedv8cxqvh58re7gmfwhy5bhqbkcgwfh"};angular.module("wowCollectionsUi").constant("constants",a)}(),function(){function a(a,b){function c(c,d){var e={method:"GET",url:"https://us.api.battle.net/wow/character/"+c+"/"+d+"?locale=en_US&apikey="+a.bnetKey};return b.request(e)}function d(){var c={method:"GET",url:"https://us.api.battle.net/wow/pet/?locale=en_US&apikey="+a.bnetKey};return b.request(c)}function e(c,d){var e={method:"GET",url:"https://us.api.battle.net/wow/character/"+c+"/"+d+"?fields=pets&locale=en_US&apikey="+a.bnetKey};return b.request(e)}function f(){var c={method:"GET",url:"https://us.api.battle.net/wow/realm/status?locale=en_US&apikey="+a.bnetKey};return b.request(c)}return{getCharacter:c,getPets:d,getPlayerPets:e,getRealms:f}}angular.module("wowCollectionsUi").factory("bnetFactory",a),a.$inject=["constants","httpFactory"]}(),function(){function a(){var a={character:{},pets:[],mounts:[]};return{current:a}}angular.module("wowCollectionsUi").factory("dataFactory",a)}(),function(){function a(a,b){function c(c){var f=b.defer();return a(c).success(d(f)).error(e),f.promise}function d(a){return function(b,c,d,e){var f={data:b,status:c,headers:d,config:e};a.resolve(f)}}function e(a){return function(b,c,d,e){var f={data:b,status:c,headers:headers,config:e};a.reject(f)}}return{request:c}}angular.module("wowCollectionsUi").factory("httpFactory",a),a.$inject=["$http","$q"]}(),function(){function a(){var a={};return{masterPets:a}}angular.module("wowCollectionsUi").factory("petsFactory",a)}(),angular.module("wowCollectionsUi").run(["$templateCache",function(a){a.put("views/character.html",'<div data-ng-if="vm.current.character"> <img data-ng-src="http://us.battle.net/static-render/us/{{vm.current.character.thumbnail}}"> <pre data-ng-bind="vm.current | json"></pre> </div>'),a.put("views/header.html",'<div class="row"> <div class="well"> <md-autocomplete md-selected-item="vm.realm" md-search-text="start typing!" md-items="realm in vm.realms" md-item-text="realm.name"> <span md-highlight-text="searchText">{{realm.name}}</span> </md-autocomplete> <label> Realm <select class="form-control" data-ng-model="vm.realm" data-ng-options="realm.slug as realm.name for realm in vm.realms"></select> </label> <label> Character <input class="form-control" data-ng-model="vm.character"> </label> <button class="btn btn-primary" data-ng-click="vm.getCharacter()">Search</button> </div> </div>'),a.put("views/main.html",'<!--<div data-ng-repeat="pet in vm.missingPets">--><!--<img data-ng-src="http://wow.zamimg.com/images/wow/icons/medium/{{pet.icon}}.jpg">--><!--</div>--><!--<div class="row">--><!--<div class="well">--><!--<label>--><!--Realm--><!--<select class="form-control" data-ng-model="vm.realm"--><!--data-ng-options="realm.slug as realm.name for realm in vm.realms"></select>--><!--</label>--><!--<label>--><!--Character--><!--<input class="form-control" data-ng-model="vm.character">--><!--</label>--><!--<button class="btn btn-primary" data-ng-click="vm.getCharacter()">Search</button>--><!--</div>--><!--</div>--> <div class="row"> <ul class="nav nav-tabs"> <li role="presentation" class="active"><a data-ui-sref=".char">Character</a></li> <li role="presentation"><a data-ui-sref=".pets">Pets</a></li> <li role="presentation"><a data-ui-sref=".mounts">Mounts</a></li> <li role="presentation"><a data-ui-sref=".toys">Toys</a></li> </ul> </div> <div data-ui-view></div>'),a.put("views/mounts.html","mounts"),a.put("views/pets.html","pets"),a.put("views/toys.html","toys")}]);